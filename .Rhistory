install.packages('devtools')
install.packages('roxygen2')
for_saving <- read.csv('five_state_data_either_stage_quality.csv', header = TRUE)
for_saving <- read.table('five_state_data_either_stage_quality.csv', header = TRUE, sep = ",")
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.csv", header = TRUE, sep = ",")
saveRDS(for_saving, "site_data.rds")
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.csv", header = TRUE, sep = "/t",fill = TRUE, quote = "")
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.txt", header = TRUE, sep = "/t",fill = TRUE, quote = "")
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.txt", header = TRUE, sep = "\t",fill = TRUE, quote = "")
saveRDS(for_saving, "site_data.rds")
switch(toupper(new york), "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch(toupper(new york), "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch(toupper("new york"), "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch("color", "color"="red", "shape"="square", "length"=5)
switch(new york, "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch("new york", "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch("NEW YORK", "MICHIGAN": 26, "INDIANA": 18, "NEW YORK": 36, "ILLINOIS": 17, "WISCONSIN": 53)
switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list <- c("new york", "Michigan")
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list.apppend(state_list, state_code)
}
state_list <- c()
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list.apppend(state_list, state_code)
}
state_list <- c()
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list.apppend(state_list, state_code)
}
states <-c("new york", "Michigan")
state_list <- c()
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list.apppend(state_list, state_code)
}
state_list <- c()
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list.append(state_list, state_code)
}
state_list <- c()
for( state in states){
state_code <- switch(toupper("new york"), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list <- append(state_list, state_code)
}
state_list
state_list <- c()
for( state in states){
state_code <- switch(toupper(state), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list <- append(state_list, state_code)
}
state_list
head(for_saving)
site_data <- for_saving[for_saving$state_cd %in% state_list,]
head(site_data)
require(psych)
describe(site_data)
str(site_data)
levels(site_data$state_cd)
levels(as.factor(site_data$state_cd))
load.all()
require(devtools)
load.all()
install_github("devtools", "hadley")
load.all()
load.all()
require(devtools)
load.all()
load_all()
collectData <- function(states, parameters, start_date = paste(format(Sys.Date(), format = "%Y"), "-01-01"), end_date = Sys.Date()){
state_list <- c()
for( state in states){
state_code <- switch(toupper(state), "MICHIGAN"= 26, "INDIANA"= 18, "NEW YORK"= 36, "ILLINOIS"= 17, "WISCONSIN"= 53)
state_list <- append(state_list, state_code)
}
# Limit site data to states we want
site_data <- site_data[site_data$state_cd %in% state_list,]
# Iniliize a dataframe
final_df <- data.frame()
# create a list of site codes
water_sites = site_data['site_no']
# Loop through sites and collect
for(j in 1:nrow(water_sites)){
this_site <- site_data[j,]
# Correct for missing zeros at the front of the site number
if (nchar(this_site) < 8){
this_site <- paste(0,this_site,sep= "")
};
this_data <- readNWISdv(this_site , parameters, start_date, end_date)
if(nrow(this_data) > 0){
final_df <- smartbind(final_df,this_data)
};
};
return final_df
}
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
require(roxygen2)
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
load_all()
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.txt", header = TRUE, sep = "\t",fill = TRUE, quote = "")
saveRDS(for_saving, "site_data.rda")
load_all()
rm(list=ls())
load_all()
load_all()
saveRDS(for_saving, "site_data.RData")
for_saving <- read.table("C:/Users/Lauren/Documents/Hacks/FISH/five_state_data_either_stage_quality.txt", header = TRUE, sep = "\t",fill = TRUE, quote = "")
saveRDS(for_saving, "site_data.RData")
load_all()
load_all()
saveRDS(for_saving, "site_data.rda")
saveRDS(for_saving, "site_data.rda")
load_all()
load_all()
load_all()
load_all()
load_all()
saveRDS(for_saving, "site_data.rda")
load_all()
